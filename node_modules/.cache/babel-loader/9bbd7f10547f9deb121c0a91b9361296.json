{"ast":null,"code":"export let displayAllExpression = \"\";\nexport function FixIncompleteInputs(state, expr) {\n  let OpeningParanthesesAfterTheLastDigit = 0;\n  if (state.lastInputType !== \"digit\" || state.lastInput !== \")\") {\n    let lastDigitIndex = expr.split(\"\").reverse().findIndex(elem => /\\d|\\)/.test(elem));\n    displayAllExpression = expr.slice(0, expr.length - lastDigitIndex);\n    if (lastDigitIndex === -1) displayAllExpression = 0;\n    console.log(\"expr\", expr);\n    let afterTheLastDigit = expr.slice(expr.length - lastDigitIndex);\n    for (let i = 0; i < afterTheLastDigit.length; i++) {\n      console.log(\"i\", i);\n      if (afterTheLastDigit[i] === \"(\") OpeningParanthesesAfterTheLastDigit++;\n    }\n  } else {\n    displayAllExpression = expr;\n  }\n  addMissingParenthesis(state.parenthesesDelta - OpeningParanthesesAfterTheLastDigit);\n  console.log(\"deleteRedundant after\", displayAllExpression);\n}\n_c = FixIncompleteInputs;\nfunction addMissingParenthesis(delta) {\n  if (delta > 0) {\n    displayAllExpression += \")\";\n    delta -= 1;\n    addMissingParenthesis(delta);\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"FixIncompleteInputs\");","map":{"version":3,"names":["displayAllExpression","FixIncompleteInputs","state","expr","OpeningParanthesesAfterTheLastDigit","lastInputType","lastInput","lastDigitIndex","split","reverse","findIndex","elem","test","slice","length","console","log","afterTheLastDigit","i","addMissingParenthesis","parenthesesDelta","delta"],"sources":["C:/Users/agsaf/Documents/GitHub/calculator/src/functions/FixIncompleteInputs.js"],"sourcesContent":["export let displayAllExpression = \"\";\r\n\r\nexport function FixIncompleteInputs(state, expr) {\r\n  let OpeningParanthesesAfterTheLastDigit = 0;\r\n  if (state.lastInputType !== \"digit\" || state.lastInput !== \")\") {\r\n    let lastDigitIndex = expr\r\n      .split(\"\")\r\n      .reverse()\r\n      .findIndex((elem) => /\\d|\\)/.test(elem));\r\n    displayAllExpression = expr.slice(0, expr.length - lastDigitIndex);\r\n    if (lastDigitIndex === -1) displayAllExpression = 0;\r\n    console.log(\"expr\", expr);\r\n\r\n    let afterTheLastDigit = expr.slice(expr.length - lastDigitIndex);\r\n\r\n    for (let i = 0; i < afterTheLastDigit.length; i++) {\r\n      console.log(\"i\", i);\r\n      if (afterTheLastDigit[i] === \"(\") OpeningParanthesesAfterTheLastDigit++;\r\n    }\r\n  } else {\r\n    displayAllExpression = expr;\r\n  }\r\n  addMissingParenthesis(state.parenthesesDelta - OpeningParanthesesAfterTheLastDigit);\r\n  console.log(\"deleteRedundant after\", displayAllExpression);\r\n}\r\n\r\nfunction addMissingParenthesis(delta) {\r\n  if (delta > 0) {\r\n    displayAllExpression += \")\";\r\n    delta -= 1;\r\n    addMissingParenthesis(delta);\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAO,IAAIA,oBAAoB,GAAG,EAAE;AAEpC,OAAO,SAASC,mBAAmB,CAACC,KAAK,EAAEC,IAAI,EAAE;EAC/C,IAAIC,mCAAmC,GAAG,CAAC;EAC3C,IAAIF,KAAK,CAACG,aAAa,KAAK,OAAO,IAAIH,KAAK,CAACI,SAAS,KAAK,GAAG,EAAE;IAC9D,IAAIC,cAAc,GAAGJ,IAAI,CACtBK,KAAK,CAAC,EAAE,CAAC,CACTC,OAAO,EAAE,CACTC,SAAS,CAAEC,IAAI,IAAK,OAAO,CAACC,IAAI,CAACD,IAAI,CAAC,CAAC;IAC1CX,oBAAoB,GAAGG,IAAI,CAACU,KAAK,CAAC,CAAC,EAAEV,IAAI,CAACW,MAAM,GAAGP,cAAc,CAAC;IAClE,IAAIA,cAAc,KAAK,CAAC,CAAC,EAAEP,oBAAoB,GAAG,CAAC;IACnDe,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEb,IAAI,CAAC;IAEzB,IAAIc,iBAAiB,GAAGd,IAAI,CAACU,KAAK,CAACV,IAAI,CAACW,MAAM,GAAGP,cAAc,CAAC;IAEhE,KAAK,IAAIW,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,iBAAiB,CAACH,MAAM,EAAEI,CAAC,EAAE,EAAE;MACjDH,OAAO,CAACC,GAAG,CAAC,GAAG,EAAEE,CAAC,CAAC;MACnB,IAAID,iBAAiB,CAACC,CAAC,CAAC,KAAK,GAAG,EAAEd,mCAAmC,EAAE;IACzE;EACF,CAAC,MAAM;IACLJ,oBAAoB,GAAGG,IAAI;EAC7B;EACAgB,qBAAqB,CAACjB,KAAK,CAACkB,gBAAgB,GAAGhB,mCAAmC,CAAC;EACnFW,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEhB,oBAAoB,CAAC;AAC5D;AAAC,KAtBeC,mBAAmB;AAwBnC,SAASkB,qBAAqB,CAACE,KAAK,EAAE;EACpC,IAAIA,KAAK,GAAG,CAAC,EAAE;IACbrB,oBAAoB,IAAI,GAAG;IAC3BqB,KAAK,IAAI,CAAC;IACVF,qBAAqB,CAACE,KAAK,CAAC;EAC9B;AACF;AAAC;AAAA"},"metadata":{},"sourceType":"module"}