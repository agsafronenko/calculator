{"ast":null,"code":"import { expression, expressionNegative, findExpression } from \"./findExpression\";\nimport calculate from \"./equals\";\nlet stateForFactorial = \"\";\nexport function factorialState(state) {\n  stateForFactorial = state;\n}\nexport let alertStatus = {\n  negative: false,\n  nonInteger: false\n};\nexport function factorial(num) {\n  let result = \"\";\n  if (num < 0) {\n    // console.log(\"you are in factorialAlert section\");\n    if (alertStatus.negative === false) {\n      alert(\"invalid input: factorials are only defined for positive numbers\");\n      alertStatus.negative = true;\n    }\n    // HERE PLACE CODE TO BLOCK ALL BUTTONS EXCEPT FOR ac and del (consider also numbers, specials numbers, opening brace, random number, decimal, minus --- better just ac and del) or consider universal function which execute handleClear whenever there is an input after \"invalid input\" message on display\n    return \"invalid input\";\n  } else if (num % 1 !== 0 && num !== \")\") {\n    validInput(stateForFactorial);\n    return Math.pow(2 * num * Math.PI, 1 / 2) * Math.pow(num / Math.E, num);\n  } else if (num === \")\") {\n    return \"!\";\n  } else {\n    result = Number(num);\n    if (Number.isInteger(result)) {\n      for (let i = result - 1; i > 0; i--) {\n        result *= i;\n      }\n      return result;\n    }\n  }\n}\nexport function validInput(state) {\n  findExpression(state);\n  let result = calculate(state, expression);\n  console.log(\"you are in factorial: RESULT\", result, \"EXPRESSION\", expression, expressionNegative);\n  if (result % 1 !== 0) {\n    if (alertStatus.nonInteger === false) {\n      alert(`factorials for nonintegers are defined based on simplified Gamma function:\n      ~~ level of accuracy: low ~~`);\n      alertStatus.active = true;\n    }\n  }\n}","map":{"version":3,"names":["expression","expressionNegative","findExpression","calculate","stateForFactorial","factorialState","state","alertStatus","negative","nonInteger","factorial","num","result","alert","validInput","Math","pow","PI","E","Number","isInteger","i","console","log","active"],"sources":["C:/Users/agsaf/Documents/GitHub/calculator/src/functions/factorial.js"],"sourcesContent":["import { expression, expressionNegative, findExpression } from \"./findExpression\";\r\nimport calculate from \"./equals\";\r\n\r\nlet stateForFactorial = \"\";\r\nexport function factorialState(state) {\r\n  stateForFactorial = state;\r\n}\r\n\r\nexport let alertStatus = {\r\n  negative: false,\r\n  nonInteger: false,\r\n};\r\n\r\nexport function factorial(num) {\r\n  let result = \"\";\r\n  if (num < 0) {\r\n    // console.log(\"you are in factorialAlert section\");\r\n    if (alertStatus.negative === false) {\r\n      alert(\"invalid input: factorials are only defined for positive numbers\");\r\n      alertStatus.negative = true;\r\n    }\r\n    // HERE PLACE CODE TO BLOCK ALL BUTTONS EXCEPT FOR ac and del (consider also numbers, specials numbers, opening brace, random number, decimal, minus --- better just ac and del) or consider universal function which execute handleClear whenever there is an input after \"invalid input\" message on display\r\n    return \"invalid input\";\r\n  } else if (num % 1 !== 0 && num !== \")\") {\r\n    validInput(stateForFactorial);\r\n    return Math.pow(2 * num * Math.PI, 1 / 2) * Math.pow(num / Math.E, num);\r\n  } else if (num === \")\") {\r\n    return \"!\";\r\n  } else {\r\n    result = Number(num);\r\n    if (Number.isInteger(result)) {\r\n      for (let i = result - 1; i > 0; i--) {\r\n        result *= i;\r\n      }\r\n      return result;\r\n    }\r\n  }\r\n}\r\n\r\nexport function validInput(state) {\r\n  findExpression(state);\r\n  let result = calculate(state, expression);\r\n  console.log(\"you are in factorial: RESULT\", result, \"EXPRESSION\", expression, expressionNegative);\r\n  if (result % 1 !== 0) {\r\n    if (alertStatus.nonInteger === false) {\r\n      alert(`factorials for nonintegers are defined based on simplified Gamma function:\r\n      ~~ level of accuracy: low ~~`);\r\n      alertStatus.active = true;\r\n    }\r\n  }\r\n}\r\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,kBAAkB,EAAEC,cAAc,QAAQ,kBAAkB;AACjF,OAAOC,SAAS,MAAM,UAAU;AAEhC,IAAIC,iBAAiB,GAAG,EAAE;AAC1B,OAAO,SAASC,cAAc,CAACC,KAAK,EAAE;EACpCF,iBAAiB,GAAGE,KAAK;AAC3B;AAEA,OAAO,IAAIC,WAAW,GAAG;EACvBC,QAAQ,EAAE,KAAK;EACfC,UAAU,EAAE;AACd,CAAC;AAED,OAAO,SAASC,SAAS,CAACC,GAAG,EAAE;EAC7B,IAAIC,MAAM,GAAG,EAAE;EACf,IAAID,GAAG,GAAG,CAAC,EAAE;IACX;IACA,IAAIJ,WAAW,CAACC,QAAQ,KAAK,KAAK,EAAE;MAClCK,KAAK,CAAC,iEAAiE,CAAC;MACxEN,WAAW,CAACC,QAAQ,GAAG,IAAI;IAC7B;IACA;IACA,OAAO,eAAe;EACxB,CAAC,MAAM,IAAIG,GAAG,GAAG,CAAC,KAAK,CAAC,IAAIA,GAAG,KAAK,GAAG,EAAE;IACvCG,UAAU,CAACV,iBAAiB,CAAC;IAC7B,OAAOW,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGL,GAAG,GAAGI,IAAI,CAACE,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,GAAGF,IAAI,CAACC,GAAG,CAACL,GAAG,GAAGI,IAAI,CAACG,CAAC,EAAEP,GAAG,CAAC;EACzE,CAAC,MAAM,IAAIA,GAAG,KAAK,GAAG,EAAE;IACtB,OAAO,GAAG;EACZ,CAAC,MAAM;IACLC,MAAM,GAAGO,MAAM,CAACR,GAAG,CAAC;IACpB,IAAIQ,MAAM,CAACC,SAAS,CAACR,MAAM,CAAC,EAAE;MAC5B,KAAK,IAAIS,CAAC,GAAGT,MAAM,GAAG,CAAC,EAAES,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;QACnCT,MAAM,IAAIS,CAAC;MACb;MACA,OAAOT,MAAM;IACf;EACF;AACF;AAEA,OAAO,SAASE,UAAU,CAACR,KAAK,EAAE;EAChCJ,cAAc,CAACI,KAAK,CAAC;EACrB,IAAIM,MAAM,GAAGT,SAAS,CAACG,KAAK,EAAEN,UAAU,CAAC;EACzCsB,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEX,MAAM,EAAE,YAAY,EAAEZ,UAAU,EAAEC,kBAAkB,CAAC;EACjG,IAAIW,MAAM,GAAG,CAAC,KAAK,CAAC,EAAE;IACpB,IAAIL,WAAW,CAACE,UAAU,KAAK,KAAK,EAAE;MACpCI,KAAK,CAAE;AACb,mCAAmC,CAAC;MAC9BN,WAAW,CAACiB,MAAM,GAAG,IAAI;IAC3B;EACF;AACF"},"metadata":{},"sourceType":"module"}